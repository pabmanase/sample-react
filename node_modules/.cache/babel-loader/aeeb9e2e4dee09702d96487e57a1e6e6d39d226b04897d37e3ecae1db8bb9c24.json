{"ast":null,"code":"import _regeneratorRuntime from\"D:/LEARNING/React-Router/react-router-in-depth-lesson-1/jobarouter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/LEARNING/React-Router/react-router-in-depth-lesson-1/jobarouter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Form,redirect,useActionData}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Contact(){var data=useActionData();return/*#__PURE__*/_jsxs(\"div\",{className:\"contact\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Contact Us\"}),/*#__PURE__*/_jsxs(Form,{method:\"post\",action:\"/help/contact/\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Your email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Your message:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{children:\"Submit\"}),data&&data.error&&/*#__PURE__*/_jsx(\"p\",{children:data.error})]})]});}export var contactAction=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var request,data,submission;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:request=_ref.request;_context.next=3;return request.formData();case 3:data=_context.sent;submission={email:data.get('email'),message:data.get('message')};console.log(submission);//send post request\nif(!(submission.message.length<10)){_context.next=8;break;}return _context.abrupt(\"return\",{error:'Message must not be less than 10 characters.'});case 8:return _context.abrupt(\"return\",redirect('/'));case 9:case\"end\":return _context.stop();}}},_callee);}));return function contactAction(_x){return _ref2.apply(this,arguments);};}();","map":{"version":3,"names":["Form","redirect","useActionData","Contact","data","error","contactAction","request","formData","submission","email","get","message","console","log","length"],"sources":["D:/LEARNING/React-Router/react-router-in-depth-lesson-1/jobarouter/src/pages/help/Contact.js"],"sourcesContent":["import { Form, redirect, useActionData } from \"react-router-dom\";\r\n\r\nexport default function Contact() {\r\n  const data = useActionData()\r\n  \r\n  return (\r\n      <div className=\"contact\">\r\n        <h3>Contact Us</h3>\r\n        <Form method=\"post\" action=\"/help/contact/\">\r\n          <label>\r\n            <span>Your email:</span>\r\n            <input type=\"email\" name=\"email\" required />\r\n          </label>\r\n          <label>\r\n            <span>Your message:</span>\r\n            <textarea name=\"message\" required></textarea>\r\n          </label>\r\n          <button>Submit</button>\r\n\r\n          {data && data.error && <p>{data.error}</p>}\r\n        </Form>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport const contactAction = async ({ request }) => {\r\n\r\n  const data = await request.formData()\r\n\r\n  const submission = {\r\n    email: data.get('email'),\r\n    message: data.get('message')\r\n  }\r\n\r\n  console.log(submission)\r\n\r\n  //send post request\r\n  if (submission.message.length < 10) {\r\n    return {error: 'Message must not be less than 10 characters.'}\r\n  }\r\n\r\n  //redirect the user\r\n  return redirect('/')\r\n}"],"mappings":"gUAAA,OAASA,IAAI,CAAEC,QAAQ,CAAEC,aAAa,KAAQ,kBAAkB,CAAC,wFAEjE,cAAe,SAASC,QAAO,EAAG,CAChC,GAAMC,KAAI,CAAGF,aAAa,EAAE,CAE5B,mBACI,aAAK,SAAS,CAAC,SAAS,wBACtB,kCAAmB,cACnB,MAAC,IAAI,EAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,gBAAgB,wBACzC,sCACE,qCAAwB,cACxB,cAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,OAAG,GACtC,cACR,sCACE,uCAA0B,cAC1B,iBAAU,IAAI,CAAC,SAAS,CAAC,QAAQ,OAAY,GACvC,cACR,kCAAuB,CAEtBE,IAAI,EAAIA,IAAI,CAACC,KAAK,eAAI,mBAAID,IAAI,CAACC,KAAK,EAAK,GACrC,GACH,CAEV,CAEF,MAAO,IAAMC,cAAa,6FAAG,qKAASC,OAAO,MAAPA,OAAO,uBAExBA,QAAO,CAACC,QAAQ,EAAE,QAA/BJ,IAAI,eAEJK,UAAU,CAAG,CACjBC,KAAK,CAAEN,IAAI,CAACO,GAAG,CAAC,OAAO,CAAC,CACxBC,OAAO,CAAER,IAAI,CAACO,GAAG,CAAC,SAAS,CAC7B,CAAC,CAEDE,OAAO,CAACC,GAAG,CAACL,UAAU,CAAC,CAEvB;AAAA,KACIA,UAAU,CAACG,OAAO,CAACG,MAAM,CAAG,EAAE,0DACzB,CAACV,KAAK,CAAE,8CAA8C,CAAC,yCAIzDJ,QAAQ,CAAC,GAAG,CAAC,wDACrB,kBAlBYK,cAAa,6CAkBzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}